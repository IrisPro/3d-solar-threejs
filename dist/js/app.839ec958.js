(function(){var e={8186:function(e,t,n){n(560),function(){"use strict";var t=Math.PI,n=Math.sin,i=Math.cos,a=Math.tan,o=Math.asin,r=Math.atan2,s=Math.acos,l=t/180,c=864e5,u=2440588,d=2451545;function h(e){return e.valueOf()/c-.5+u}function m(e){return new Date((e+.5-u)*c)}function g(e){return h(e)-d}var v=23.4397*l;function A(e,t){return r(n(e)*i(v)-a(t)*n(v),i(e))}function w(e,t){return o(n(t)*i(v)+i(t)*n(v)*n(e))}function f(e,t,o){return r(n(e),i(e)*n(t)-a(o)*i(t))}function p(e,t,a){return o(n(t)*n(a)+i(t)*i(a)*i(e))}function b(e,t){return l*(280.16+360.9856235*e)-t}function M(e){return e<0&&(e=0),2967e-7/Math.tan(e+.00312536/(e+.08901179))}function E(e){return l*(357.5291+.98560028*e)}function S(e){var i=l*(1.9148*n(e)+.02*n(2*e)+3e-4*n(3*e)),a=102.9372*l;return e+i+a+t}function y(e){var t=E(e),n=S(t);return{dec:w(n,0),ra:A(n,0)}}var L={getPosition:function(e,t,n){var i=l*-n,a=l*t,o=g(e),r=y(o),s=b(o,i)-r.ra;return{azimuth:f(s,a,r.dec),altitude:p(s,a,r.dec)}}},T=L.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];L.addTime=function(e,t,n){T.push([e,t,n])};var x=9e-4;function C(e,n){return Math.round(e-x-n/(2*t))}function P(e,n,i){return x+(e+n)/(2*t)+i}function D(e,t,i){return d+e+.0053*n(t)-.0069*n(2*i)}function k(e,t,a){return s((n(e)-n(t)*n(a))/(i(t)*i(a)))}function H(e){return-2.076*Math.sqrt(e)/60}function O(e,t,n,i,a,o,r){var s=k(e,n,i),l=P(s,t,a);return D(l,o,r)}function N(e){var t=l*(218.316+13.176396*e),a=l*(134.963+13.064993*e),o=l*(93.272+13.22935*e),r=t+6.289*l*n(a),s=5.128*l*n(o),c=385001-20905*i(a);return{ra:A(r,s),dec:w(r,s),dist:c}}function W(e,t){return new Date(e.valueOf()+t*c/24)}L.getTimes=function(e,t,n,i){i=i||0;var a,o,r,s,c,u,d=l*-n,h=l*t,v=H(i),A=g(e),f=C(A,d),p=P(0,d,f),b=E(p),M=S(b),y=w(M,0),L=D(p,b,M),x={solarNoon:m(L),nadir:m(L-.5)};for(a=0,o=T.length;a<o;a+=1)r=T[a],s=(r[0]+v)*l,c=O(s,d,h,y,f,b,M),u=L-(c-L),x[r[1]]=m(u),x[r[2]]=m(c);return x},L.getMoonPosition=function(e,t,o){var s=l*-o,c=l*t,u=g(e),d=N(u),h=b(u,s)-d.ra,m=p(h,c,d.dec),v=r(n(h),a(c)*i(d.dec)-n(d.dec)*i(h));return m+=M(m),{azimuth:f(h,c,d.dec),altitude:m,distance:d.dist,parallacticAngle:v}},L.getMoonIllumination=function(e){var t=g(e||new Date),a=y(t),o=N(t),l=149598e3,c=s(n(a.dec)*n(o.dec)+i(a.dec)*i(o.dec)*i(a.ra-o.ra)),u=r(l*n(c),o.dist-l*i(c)),d=r(i(a.dec)*n(a.ra-o.ra),n(a.dec)*i(o.dec)-i(a.dec)*n(o.dec)*i(a.ra-o.ra));return{fraction:(1+i(u))/2,phase:.5+.5*u*(d<0?-1:1)/Math.PI,angle:d}},L.getMoonTimes=function(e,t,n,i){var a=new Date(e);i?a.setUTCHours(0,0,0,0):a.setHours(0,0,0,0);for(var o,r,s,c,u,d,h,m,g,v,A,w,f,p=.133*l,b=L.getMoonPosition(a,t,n).altitude-p,M=1;M<=24;M+=2){if(o=L.getMoonPosition(W(a,M),t,n).altitude-p,r=L.getMoonPosition(W(a,M+1),t,n).altitude-p,u=(b+r)/2-o,d=(r-b)/2,h=-d/(2*u),m=(u*h+d)*h+o,g=d*d-4*u*o,v=0,g>=0&&(f=Math.sqrt(g)/(2*Math.abs(u)),A=h-f,w=h+f,Math.abs(A)<=1&&v++,Math.abs(w)<=1&&v++,A<-1&&(A=w)),1===v?b<0?s=M+A:c=M+A:2===v&&(s=M+(m<0?w:A),c=M+(m<0?A:w)),s&&c)break;b=r}var E={};return s&&(E.rise=W(a,s)),c&&(E.set=W(a,c)),s||c||(E[m>0?"alwaysUp":"alwaysDown"]=!0),E},e.exports=L}()},3638:function(e,t,n){"use strict";var i=n(9242),a=n(3396),o=n(2434),r=(n(6316),n(3347)),s=(n(2320),n(7679)),l=(n(7147),n(3649)),c=(n(4165),n(2727)),u=(n(3533),n(5757)),d=(n(4780),n(7139)),h=n(4870),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAqCAYAAAAu9HJYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKaADAAQAAAABAAAAKgAAAACHgP6PAAAEK0lEQVRYCe1YSU8UQRSuYhpZ4gJoNDHxYMAFuWhiNCMHNQwICIgHjHr06kFvbhcuarh54De4kbgOLoBGDkgkGr2YqNF400hUQAzrMOX3qnuk6KnuqZ7p8WQlL/36vXrf+7q6a3nNWYhNNDVVskTikYS0rEb+8OGnMOALwgD5i7GwcIQJUSWF9JBauCQZK1J4qbpiDq6GTTI4A4OIsEnOKjlVXTEHV8MlGYncZJx/lEJ6SI3rcERHx3I2NnYNyVbAf5r397/R9QvDJurrtwPnCibbJCsvP8Z7en67cfUjOTHRiI4tCNyL6xMsLTvcgWHcO7hPnDwtzM6bBq0nWVT0DKP4U/YWogJr34Bobt6cFp2DQeIBFwQrJAzlo7yaZmlsjN+//x1PGSNyEoSA5udPou8pd3/R2WmxoSEa8XZIFLIeshryA/IFMgy5w2prB3lnZwK63QhPJWhZMcqbcqtX7TeZ6iBfRyJxF/drMbJHeV/fnZSPrvieOnC5hGRVql2r04Ri7Dy+7x7yi4aGdsRdhzrKLOsQdqfXZNc1X5IUgEkUYVNTK3lv71gKQLS1rYDtKu5bUrYA1zgrLT3O792bFAcPlkP/hcmy4BefkaQ7GATXgeBT2Le5fcb3nL9lJSV1IPrNJEY/cTwiMarL2PT0LbizJ0jYQtQQjsTzyKWaA5Fk4+OXkWCPCpC1TjiEZ9CMXzc+9I0g+A6yzADXrAvnc5iQWzEhP/sFmI9kMnk2VILEih5YiDN+BMlnRBJrYQGemNbBfLTDEt8H2YgkGx7eiSde64OTvYtwCd+nWViwK5l9ik4dUmcZTjBLjv7JZKUPRu4uG3/Ei4slaxL3jiHECWTepGSnrS6fzcan+kjDxex155OeAbaFfbNR97pdsXRQyGez8T24GK2T4sCBXXiQF3ljGYns5o8fj3jhm73uaPQllqBRL5Cc7IRL+D7NiCTOgUlg3PbBycV128H3xDAiKaM578JoznkiZeOwt8WuTKHGJJ39tTsTYEB/d6Z9m/CMScrkZWXnMJrPAxLRdyccwjNoRrNbxZGH3ulpqvBqVHsgPexDL5UP8pjvsJCn6ZISKrjigYgtdo7jVB4lHMKV5cmiT6v5jmTGQiwWO4LXfzFtK9OlokJMiAt8YOAmuZ1C7AbUb5kKMc9v0iFIJe0GSBFkvzu3TFhbWw2iMUg35BXkK4QOs3Sle7LHUNJWpwhKHMKzz5MbZF3v8wNCO5KitXUNm5l5D5DFwr2wMMofPPjgJprtvfw5MD8/vCRHcfEWXe2tH8nZ2X1LgqlwD5EgPZjEAy5GefFPCeXVND3JVavol3IcAIO41vkV7hpMY5ODW+fkiTM7b1q89nWn9TI0yEPr/3/mhqOVoVuqBKFuqp4hzN+t/yb9Y/65N2yS6n9yVc/pwcIlmad/5n8AC/ylWqliwkYAAAAASUVORK5CYII=",g="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABACAYAAABGHBTIAAAAAXNSR0IArs4c6QAABH1JREFUaAXtWDlMVFEUxRkwiIDgVikhdrgUVm6JrYXRjtJEEwsbTWwsLJSOKMHEggqJCSGxEBMLCwqilTYQBClILAQSlmQMIEtgWGbGc8e55M7lv/9m/sww3+S95OYtdzvn3vc/86mocMNVwFXAVcBVwFXAVcBVwFXAVcBVwFXAVcBVoOLAPtbAliu1H1hsIArFEDR+ycgHBZRLIQqNXRLSkVyQB7DxJbu9vX0Zct0S1zeGxdeoLklQZPONm0wmP8ImGolEbhmR/VOUpMuWnHmriayX0G2KrK6unk2lUkmStbW1C3SWES8f38LBLxTDCziTiiQSibcgmx5Y9wLxrg5rL99QkPIDoUEzoejc3FwTmG5m+NK0NT8/34xgUQjbaX+/XGXXabBMgghF8aJ6Jcimlzh7TbqMsL2OU3ZiJgASKIMnMpXDw8PHwXBFE8Z+dWRk5ATZQEydNuUr67kkS2sinCaLuXJzc/OZB9n0EXTPySYjTFrHgzpcQwLM6m5PT08d/hTFTIRxHuvr66sHnf+my5Ks7m7V+vr6Qx+yaRVsHoFwlSKt44amxRJYVndbW1sPobu/bITJhmwVYYolY4eCsAREa/nsVi0vL9+xkWU92cI/9F2WhLO6C/AH0bnvTMg2ky35QEL7LEuye7q7uLh400ZS68knzF2WhPd0d2dn54smZNvD53NYuyzJ7unu7OzsVRs5k35mZuZKGLvsR/ggOvXBRMh2Dt9+jy7rfDDZv6GTZ72Zp6en6RMwYSPmo09MTU21gE5o3ti+hLe2tnp8yKTwNl6ArPnZIEZ3WAnLl1XV+Pj4aRCJG8js4KP/TXt7+5ne3t4W/Lp6b7Cj442xsbFTGdL8+5pyyWJjW/ohE9I66zrjQ6DDiwQ69nVoaOga7BukTExM3MAn4g8vH8R6AduyX2tJWHa3cnBw8BiA/5HgcXVnYrHYPQCnj4MjXtLc3NywsLDwGLaL0hfrpYGBgaPwKesPESNhdOSpABzHlX3Z1tZ2EoBrIXUZIeJS+LwO17wpHo93I8buCw8xn8C+bIQlWVrzdY52dXXVokPzRBh/Vj6Njo6eg74GcjgjRNomZFszOTl5CTG+USzEnO3o6KBzeo75WdY4oCrN0ImYcCU68wDgfi4tLd1G6moIffmQEOl8hfyqV1ZW7iLm3MbGxn3sZZc1DqhzGwS4GIM68buzs/NiY2PjAALS/5NNkoROiskuVV9f/66/v/98NBol+6IMqlQ+Q9tzpSkGr3nOJ67JVheD7PhM+tBZToOuSaGDknEhbIlNevbXWLS93mt7655eAvkMDYz3evaK6QfWpONznr3i5nVWLMKU1I90LoBNNnzOc14EtXGhhCVRvZa5cgHLBZN+vJb+cs36nOdiEKZkfmAlGBPYQv1lDt91sQhzEg3cRJDtvWYdg2yCxPGKnf7l4qkwHHqBMZiG8zgIgSA+mj13rJixdA7PfdCEQf2YqAZT7Hg6/u4+aCIOYPM3EWR/01yquKZ87txVwFXAVcBVwFXAVcBVoPgV+AtkGDLDym8ikQAAAABJRU5ErkJggg==",v=n(1114),A=(n(560),n(9469)),w=n(4543),f=n(1989),p=n(8652),b=n(2606);class M{constructor(){this.container=document.querySelector("#sunshine"),this.modelScale=1,this.modelUrl,this.renderer,this.camera,this.scene,this.ambientLight,this.sunLight,this.controls,this.renderEvents=[],this.originalTarget,this.init()}init(){this.initScene(),this.initCamera(),this.initRender(),this.orbitHelper(),this.statsHelper(),this.animate(),window.onresize=this.onWindowResize.bind(this)}initScene(){this.scene=new v.xsS,this.scene.background=new v.Ilk("#b2e0ff");const e=new v.vmT(16777215,16777215,1);this.scene.add(e),this.scene.receiveShadow=!0}initCamera(){this.camera=new v.cPb(45,window.innerWidth/window.innerHeight,1,3e3),this.camera.position.set(0,500,500),this.camera.lookAt(new v.Pa4(0,0,0))}initRender(){const e=new v.CP7({antialias:!0,logarithmicDepthBuffer:!0,alpha:!0});e.setSize(window.innerWidth,window.innerHeight),e.setPixelRatio(1),e.shadowMap.enabled=!0,e.outputEncoding=v.KI_,e.shadowMap.type=v.ntZ,e.toneMapping=v.CdI,e.toneMappingExposure=1,this.container.appendChild(e.domElement),this.renderer=e}initLight(){this.sunLight=new v.Ox3(16777215),this.sunLight.visible=!0,this.sunLight.intensity=20,this.sunLight.shadow.camera.near=-1e3,this.sunLight.shadow.camera.far=1e3,this.sunLight.shadow.camera.left=-1e3,this.sunLight.shadow.camera.right=1e3,this.sunLight.shadow.camera.top=1e3,this.sunLight.shadow.camera.bottom=-1e3,this.sunLight.shadow.bias=-.01,this.sunLight.shadow.mapSize.set(4096,4096),this.sunLight.castShadow=!0,this.scene.add(this.sunLight)}loadModel(){const e=new A.E,t=new f._;t.setDecoderPath("./draco/"),t.setDecoderConfig({type:"js"}),t.preload(),e.setDRACOLoader(t),e.load(this.modelUrl,(e=>{const t=e.scene;t.traverse((e=>{if(e.isMesh){const t=e.material.clone();t.side=v.ehD,t.originColor=t.color.clone(),t.color.setHex(16777200),e.material=t,e.castShadow=!0,e.receiveShadow=!0}})),t.scale.set(this.modelScale,this.modelScale,this.modelScale),this.building=e.scene,this.scene.add(e.scene)}),void 0,(function(e){console.error(e)}))}initModel(){this.loadModel(),this.initLight(),this.basicfloor()}orbitHelper(){this.controls=new w.z(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.enableZoom=!0,this.controls.minDistance=100,this.controls.maxDistance=800,this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI/2-.2,this.originalTarget=this.controls.target.clone(),this.controls.addEventListener("change",(()=>{const e=this.camera.rotation;let t={x:v.M8C.radToDeg(e.x),y:v.M8C.radToDeg(e.y),z:v.M8C.radToDeg(e.z)};document.querySelector(".compass>div").style.transform="rotate("+t.z+"deg)"}))}gridHelper(){var e=new v.VLJ(20,20,4210752,4210752);this.scene.add(e)}statsHelper(){this.stats=new b,this.stats.dom.style.top="100px",document.body.appendChild(this.stats.dom)}axesHelper(){var e=new v.y8_(10);this.scene.add(e)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.render(),this.renderer.setSize(window.innerWidth,window.innerHeight)}render(){this.stats&&this.stats.update(),this.renderer.render(this.scene,this.camera),this.controls.update(),p.update(),this.renderEvents.forEach((e=>{e&&"function"===typeof e&&e()}))}registRenderEvent(e){this.renderEvents.push(e)}animate(){this.render(),requestAnimationFrame(this.animate.bind(this))}basicfloor(){const e=new v.zf8(2048),t=(new v.dpR).load("./bg.jpg");t.colorSpace=v.KI_,t.magFilter=v.wem,t.minFilter=v.D1R;const n=new v.Wid({map:t,reflectivity:0,roughness:1,metalness:0});this.plane=new v.Kj0(e,n),this.plane.rotation.x=-.5*Math.PI,this.plane.position.y=0,this.plane.castShadow=!0,this.plane.receiveShadow=!0,this.scene.add(this.plane)}}const E={minorCold:{text:"小寒",value:0},vernalEquinox:{text:"春分",value:107014},summerSolstice:{text:"夏至",value:240693},autumnalEquinox:{text:"秋分",value:375494},startOfWinter:{text:"立冬",value:440795},winterSolstice:{text:"冬至",value:504758}},S=()=>Array.from(Object.entries(E),(([e,{text:t,value:n}])=>({text:t,value:n})));var y=n(8186);const L=()=>{const e=(0,h.iH)(E.minorCold),t=(0,h.iH)(),n=(0,h.iH)(23.1291),i=(0,h.iH)(113.2644),o=(0,h.iH)(20),r=(0,h.iH)(),s=(0,h.iH)(),l=(0,h.iH)(0),c=(0,h.iH)(!1),u=(0,h.qj)({startTime:"8:00",endTime:"16:00",curTime:"",curHour:0,curMin:0}),d=()=>{m()},m=n=>{g(),e.value=n??e.value;const i=(new Date).getFullYear();t.value=new Date(31556925974.7*(i-1900)+6e4*e.value.value+Date.UTC(1900,0,6,2,5)),l.value=0,w()},g=()=>{r.value&&(cancelAnimationFrame(r.value),r.value=null)},A=()=>{const e=y.getPosition(t.value,n.value,i.value),a=o.value>0?v.M8C.degToRad(o.value):0,r=new v.Pa4;r.setFromSphericalCoords(1,Math.PI/2-e.altitude,-e.azimuth-a),r.normalize(),s.value=r.clone().multiplyScalar(200)},w=()=>{c.value=!0,g(),requestAnimationFrame(f)},f=()=>{c&&(l.value+=1,l.value>=480?(l.value=0,g(),setTimeout((()=>{r.value=requestAnimationFrame(f)}),666)):r.value=requestAnimationFrame(f))};(0,a.YP)(l,(()=>{p(),A()}));const p=()=>{const e=8+Math.floor(l.value/60),n=l.value%60;t.value=new Date(t.value.getFullYear(),t.value.getMonth(),t.value.getDate(),e,n),u.curHour=+e>9?e:"0"+e,u.curMin=+n>9?n:"0"+n},b=()=>{c.value=!1,g()};return{initSun:d,curSolarTerms:e,onChangeTerm:m,calcSunPosition:A,sunlightPosition:s,progress:l,run:w,stop:b,timeInfo:u,isRunning:c}};var T=n(5209);function x(e,t,n,i){const a=document.createElement("div");a.innerHTML=e,a.classList.add("lqr-tag"),a.classList.add(n),a.addEventListener("click",i);const o=new T.j(a);return o.name=t,a.style.pointerEvents="auto",o}let C;function P(e){return C||(C=new T.M,C.setSize(window.innerWidth,window.innerHeight),C.domElement.style.position="absolute",C.domElement.style.top="0px",C.domElement.style.left="0px",C.domElement.style.pointerEvents="none",e.appendChild(C.domElement)),C}const D=e=>{const t=(0,h.iH)(null),n=e=>{console.log("点击了",e.target.innerHTML)},i=(i=[])=>{const a=[{className:"tag",modelName:"可选(自定义属性)",name:"1栋",position:new v.Pa4(14.163,16.252,141.966)},{className:"tag",modelName:"xxx",name:"2栋",position:new v.Pa4(3.216,74.81,103.162)},{className:"tag",modelName:"xx",name:"3栋",position:new v.Pa4(62.499,75.957,50.435)},{className:"tag",modelName:"xxx",name:"4栋",position:new v.Pa4(-.851,78.213,-27.966)},{className:"tag",modelName:"xxx",name:"5栋",position:new v.Pa4(-39.118,78.213,12.048)},{className:"tag",modelName:"xx",name:"6栋",position:new v.Pa4(-76.208,78.213,50.992)},{className:"tag",modelName:"xx",name:"7栋",position:new v.Pa4(-60.747,61.667,98.025)}];return a.forEach((({name:t,position:i,modelName:a,className:o})=>{const r=x(t,a,o,n);i.multiplyScalar(e.modelScale),r.position.copy(i),e.scene.add(r)})),t.value||(t.value=P(e.container)),t},a=(n,i)=>t.value?.render(n??e.scene,i??e.camera);return{createTag:i,renderTag:a}},k=(e,t,n,i=666,a=-90,o)=>{const r=new p.Tween(t).to(n,i).easing(p.Easing.Quadratic.Out).onUpdate((()=>{const t=new v.Pa4;e.getWorldDirection(t);const n=t.clone().multiplyScalar(a);e.position.add(n)})).onComplete((()=>{r.stop(),o&&o()})).start()},H=e=>((0,a.dD)("data-v-66d62536"),e=e(),(0,a.Cn)(),e),O={id:"sunshine"},N={class:"nav"},W={class:"ctrl-wrapper"},V=H((()=>(0,a._)("span",null,"返回小区",-1))),I={key:1,class:"gauge-container"},j={class:"title"},z=H((()=>(0,a._)("span",null,"返回",-1))),B=H((()=>(0,a._)("span",{class:"project-name"},"楼栋日照模拟",-1))),R={class:"sun-ctrl"},U={class:"slider"},Y={class:"time"},G={class:"custom-sun-slider"},Z=H((()=>(0,a._)("img",{src:m,ondragstart:"return false",alt:""},null,-1))),Q={class:"time"},F=H((()=>(0,a._)("div",{class:"compass"},[(0,a._)("div",{class:"bg"}),(0,a._)("img",{src:g})],-1)));var J={__name:"SunView",setup(e){let t=null;(0,a.bv)((()=>{t=new M,t.modelUrl="./scene.glb",t.initModel(),n(),setTimeout((()=>{const{createTag:e,renderTag:n}=D(t);e(),t.registRenderEvent(n)}),1200),P()}));const{initSun:n,curSolarTerms:i,onChangeTerm:m,sunlightPosition:g,progress:A,run:w,stop:f,timeInfo:p,isRunning:b}=L(),E=(0,h.iH)(!1),y=(0,h.iH)(!1);(0,a.YP)(g,(e=>{t.sunLight.position.copy(e),t.sunLight.target.position.set(0,0,0)}));const T=e=>{m(e.selectedOptions[0]),E.value=!1},x=()=>{f()},C=(0,h.iH)(),P=()=>{const e=new v.iMs,n=new v.FM8;let i=!1;document.addEventListener("mousedown",(()=>{i=!1})),document.addEventListener("mousemove",(()=>{i=!0})),document.addEventListener("mouseup",(a=>{if(!i){if(y.value)return;a.preventDefault(),n.x=a.clientX/window.innerWidth*2-1,n.y=-a.clientY/window.innerHeight*2+1,e.setFromCamera(n,t.camera);const i=e.intersectObjects(t.scene.children);if(console.log("intersects",i),i.length>0&&(i[0]?.object.name.includes("Object")||i[0]?.object.name.includes("default"))){const e=i[0].object?.parent;if(!e)return;console.log("clickedObject",e),y.value=!0;for(var o=t.scene.children.length-1;o>=0;o--){const n=t.scene.children[o];n.isGroup&&n.children.forEach((t=>{t.uuid!==e.uuid&&t.children.forEach((e=>{e.material.transparent=!0,e.material.opacity=.08}))})),n.isCSS2DObject&&(n.name!==e.name?n.element.style.opacity=.5:n.element.style.opacity=1)}C.value=t.camera.position.clone();const n=e.position.clone();k(t.camera,t.camera.position,n,666,-160,(()=>{t.controls.target.copy(e.position)}),t.controls)}}i=!1}))},H=()=>{y.value=!1,k(t.camera,t.camera.position,C.value,666,0,(()=>{})),t.scene.children.forEach((e=>{e.isGroup&&e.children.forEach((e=>{e.children.forEach((e=>{e.material.opacity=1}))}))}))},J=e=>{const{scene:n}=t,i=n.children.find((e=>e.isGroup)).children;i.forEach((t=>{t.children.forEach((t=>{e?t.material.color.setHex(16777200):t.material.color.copy(t.material.originColor)}))}))},X=(0,h.iH)("effect"),K=(0,a.Fl)((()=>"effect"===X.value)),q=()=>{K.value?J(!0):J()},_=[{title:"不足",color:"#ff4307"},{title:"较弱",color:"#ffbf0c"},{title:"普通",color:"#c0ff0e"},{title:"良好",color:"#c0ff0e"},{title:"优秀",color:"#05ff3f"},{title:"极佳",color:"#04febd"}];return(e,t)=>{const n=u.OK,m=c.mQ,g=l.JO,v=s.iR,M=r.cW,L=o.GI;return(0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("header",null,[(0,a._)("div",N,[(0,a.Wm)(m,{active:X.value,"onUpdate:active":t[0]||(t[0]=e=>X.value=e),onChange:q,"line-width":"16px","title-inactive-color":"#969696","title-active-color":"#0059f0"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{title:"日照效果",name:"effect"}),(0,a.Wm)(n,{title:"日照时长",name:"duration"})])),_:1},8,["active"])])]),(0,a._)("footer",W,[y.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"back-btn",onClick:H},[(0,a.Wm)(g,{name:"arrow-left"}),V])):(0,a.kq)("",!0),K.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",I,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(_,((e,t)=>(0,a._)("div",{key:t,style:(0,d.j5)({backgroundColor:e.color})},(0,d.zw)(e.title),5))),64))])),(0,a._)("div",j,[y.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"back",onClick:H},[(0,a.Wm)(g,{name:"arrow-left"}),z])):(0,a.kq)("",!0),B]),(0,a._)("div",R,[(0,a._)("div",{class:"btn-show-picker",onClick:t[1]||(t[1]=e=>E.value=!0)},[(0,a.Uk)((0,d.zw)((0,h.SU)(i).text)+" ",1),(0,a.Wm)(g,{name:"play"})]),(0,a._)("div",U,[(0,a._)("span",Y,(0,d.zw)((0,h.SU)(p).startTime),1),(0,a.Wm)(v,{modelValue:(0,h.SU)(A),"onUpdate:modelValue":t[2]||(t[2]=e=>(0,h.dq)(A)?A.value=e:null),style:{width:"70%"},step:5,min:0,"active-color":"#eaedee","inactive-color":"#eaedee","bar-height":"5px",max:480,onDragStart:x},{button:(0,a.w5)((()=>[(0,a._)("div",G,[(0,a._)("div",null,(0,d.zw)((0,h.SU)(p).curHour+":"+(0,h.SU)(p).curMin),1),Z])])),_:1},8,["modelValue"]),(0,a._)("span",Q,(0,d.zw)((0,h.SU)(p).endTime),1)]),(0,a._)("div",{class:"ctrl-btn",onClick:t[3]||(t[3]=e=>(0,h.SU)(b)?(0,h.SU)(f)():(0,h.SU)(w)())},[(0,h.SU)(b)?((0,a.wg)(),(0,a.j4)(g,{key:0,size:"18",color:"#fff",name:"pause"})):((0,a.wg)(),(0,a.j4)(g,{key:1,color:"#fff",size:"18",name:"play"}))])])]),F,(0,a.Wm)(L,{show:E.value,"onUpdate:show":t[5]||(t[5]=e=>E.value=e),round:"",position:"bottom"},{default:(0,a.w5)((()=>[(0,a.Wm)(M,{columns:(0,h.SU)(S)(),title:"节气",onCancel:t[4]||(t[4]=e=>E.value=!1),onConfirm:T},null,8,["columns"])])),_:1},8,["show"])])}}},X=n(89);const K=(0,X.Z)(J,[["__scopeId","data-v-66d62536"]]);var q=K;const _={"safe-area-inset-bottom":""};var $={__name:"App",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",_,[(0,a.Wm)(q)]))}};const ee=$;var te=ee;n(2999);(0,i.ri)(te).mount("#app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,o){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],o=e[u][2];for(var s=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(s=!1,o<r&&(r=o));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,r=i[0],s=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var u=l(n)}for(t&&t(i);c<r.length;c++)o=r[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},i=self["webpackChunk_3d_solar_threejs"]=self["webpackChunk_3d_solar_threejs"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(3638)}));i=n.O(i)})();
//# sourceMappingURL=app.839ec958.js.map